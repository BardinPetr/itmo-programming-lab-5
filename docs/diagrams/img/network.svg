<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css"
     height="1453px" preserveAspectRatio="none" style="width:973px;height:1453px;background:#FFFFFF;" version="1.1"
     viewBox="0 0 973 1453" width="973px" zoomAndPan="magnify">
    <defs/>
    <g>
        <rect fill="#FFFFFF" height="1045.1805" style="stroke:#181818;stroke-width:1.0;" width="10" x="274.5"
              y="117.7739"/>
        <rect fill="#FFFFFF" height="373.7662" style="stroke:#181818;stroke-width:1.0;" width="10" x="433.5"
              y="194.186"/>
        <rect fill="#FFFFFF" height="531.5902" style="stroke:#181818;stroke-width:1.0;" width="10" x="433.5"
              y="599.6582"/>
        <rect fill="#BBBBBB" height="160.5301" style="stroke:#181818;stroke-width:1.0;" width="10" x="438.5"
              y="970.7183"/>
        <rect fill="#FFFFFF" height="1165.2985" style="stroke:#181818;stroke-width:1.0;" width="10" x="558.5"
              y="194.186"/>
        <rect fill="#BBBBBB" height="803.2384" style="stroke:#181818;stroke-width:1.0;" width="10" x="563.5"
              y="304.304"/>
        <rect fill="#BBBBBB" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="563.5" y="1276.7785"/>
        <rect fill="#FFFFFF" height="229.2361" style="stroke:#181818;stroke-width:1.0;" width="10" x="727.5"
              y="631.3642"/>
        <rect fill="#FFFFFF" height="76.412" style="stroke:#181818;stroke-width:1.0;" width="10" x="902.5"
              y="707.7762"/>
        <rect fill="none" height="64.412" style="stroke:#000000;stroke-width:1.5;" width="184" x="511" y="209.186"/>
        <rect fill="none" height="89.118" style="stroke:#000000;stroke-width:1.5;" width="635" x="10" y="319.304"/>
        <rect fill="none" height="83.118" style="stroke:#000000;stroke-width:1.5;" width="228" x="388" y="454.1281"/>
        <rect fill="none" height="64.412" style="stroke:#000000;stroke-width:1.5;" width="184" x="388" y="875.6003"/>
        <rect fill="none" height="83.118" style="stroke:#000000;stroke-width:1.5;" width="228" x="388" y="1017.4243"/>
        <rect fill="none" height="119.118" style="stroke:#000000;stroke-width:1.5;" width="619" x="10" y="1233.3665"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="84.0679"
              y2="1369.4845"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="109" x2="109" y1="84.0679"
              y2="1369.4845"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="279" x2="279" y1="84.0679"
              y2="1369.4845"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="438" x2="438" y1="84.0679"
              y2="1369.4845"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="563" x2="563" y1="84.0679"
              y2="1369.4845"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="732.5" x2="732.5" y1="84.0679"
              y2="1369.4845"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="907.5" x2="907.5" y1="84.0679"
              y2="1369.4845"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="20"
              y="79.9659">Client2
        </text>
        <ellipse cx="46.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M46.5,21.5 L46.5,48.5 M33.5,29.5 L59.5,29.5 M46.5,48.5 L33.5,63.5 M46.5,48.5 L59.5,63.5 " fill="none"
              style="stroke:#181818;stroke-width:0.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="20"
              y="1383.4504">Client2
        </text>
        <ellipse cx="46.5" cy="1396.0524" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M46.5,1404.0524 L46.5,1431.0524 M33.5,1412.0524 L59.5,1412.0524 M46.5,1431.0524 L33.5,1446.0524 M46.5,1431.0524 L59.5,1446.0524 "
              fill="none" style="stroke:#181818;stroke-width:0.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="83"
              y="79.9659">Client1
        </text>
        <ellipse cx="109.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M109.5,21.5 L109.5,48.5 M96.5,29.5 L122.5,29.5 M109.5,48.5 L96.5,63.5 M109.5,48.5 L122.5,63.5 "
              fill="none" style="stroke:#181818;stroke-width:0.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="83"
              y="1383.4504">Client1
        </text>
        <ellipse cx="109.5" cy="1396.0524" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M109.5,1404.0524 L109.5,1431.0524 M96.5,1412.0524 L122.5,1412.0524 M109.5,1431.0524 L96.5,1446.0524 M109.5,1431.0524 L122.5,1446.0524 "
              fill="none" style="stroke:#181818;stroke-width:0.5;"/>
        <rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81"
              x="239" y="30.9321"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="246.5"
              y="52.898">ClientApp
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="246"
              y="71.9659">Controller
        </text>
        <rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81"
              x="239" y="1368.4845"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="246.5"
              y="1390.4504">ClientApp
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="246"
              y="1409.5184">Controller
        </text>
        <rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81"
              x="398" y="50"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="405"
              y="71.9659">UDPClient
        </text>
        <rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81"
              x="398" y="1368.4845"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="405"
              y="1390.4504">UDPClient
        </text>
        <rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85"
              x="521" y="50"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="528"
              y="71.9659">UDPServer
        </text>
        <rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85"
              x="521" y="1368.4845"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="528"
              y="1390.4504">UDPServer
        </text>
        <rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84"
              x="690.5" y="30.9321"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="697.5"
              y="52.898">ServerApp
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="699"
              y="71.9659">Controller
        </text>
        <rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84"
              x="690.5" y="1368.4845"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="697.5"
              y="1390.4504">ServerApp
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="699"
              y="1409.5184">Controller
        </text>
        <rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72"
              x="871.5" y="50"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="878.5"
              y="71.9659">Executor
        </text>
        <rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72"
              x="871.5" y="1368.4845"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="878.5"
              y="1390.4504">Executor
        </text>
        <rect fill="#FFFFFF" height="1045.1805" style="stroke:#181818;stroke-width:1.0;" width="10" x="274.5"
              y="117.7739"/>
        <rect fill="#FFFFFF" height="373.7662" style="stroke:#181818;stroke-width:1.0;" width="10" x="433.5"
              y="194.186"/>
        <rect fill="#FFFFFF" height="531.5902" style="stroke:#181818;stroke-width:1.0;" width="10" x="433.5"
              y="599.6582"/>
        <rect fill="#BBBBBB" height="160.5301" style="stroke:#181818;stroke-width:1.0;" width="10" x="438.5"
              y="970.7183"/>
        <rect fill="#FFFFFF" height="1165.2985" style="stroke:#181818;stroke-width:1.0;" width="10" x="558.5"
              y="194.186"/>
        <rect fill="#BBBBBB" height="803.2384" style="stroke:#181818;stroke-width:1.0;" width="10" x="563.5"
              y="304.304"/>
        <rect fill="#BBBBBB" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="563.5" y="1276.7785"/>
        <rect fill="#FFFFFF" height="229.2361" style="stroke:#181818;stroke-width:1.0;" width="10" x="727.5"
              y="631.3642"/>
        <rect fill="#FFFFFF" height="76.412" style="stroke:#181818;stroke-width:1.0;" width="10" x="902.5"
              y="707.7762"/>
        <polygon fill="#181818" points="262.5,113.7739,272.5,117.7739,262.5,121.7739,266.5,117.7739"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="109.5" x2="268.5" y1="117.7739" y2="117.7739"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="116.5"
              y="111.9649">APICommand
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="284.5" x2="326.5" y1="149.4799" y2="149.4799"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="326.5" x2="326.5" y1="149.4799" y2="162.4799"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="285.5" x2="326.5" y1="162.4799" y2="162.4799"/>
        <polygon fill="#181818" points="295.5,158.4799,285.5,162.4799,295.5,166.4799,291.5,162.4799"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="291.5"
              y="143.6709">APIRequest
        </text>
        <polygon fill="#181818" points="421.5,190.186,431.5,194.186,421.5,198.186,425.5,194.186"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="284.5" x2="427.5" y1="194.186" y2="194.186"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="291.5"
              y="188.377">send(SocketMessage)
        </text>
        <path d="M511,209.186 L584,209.186 L584,218.892 L574,228.892 L511,228.892 L511,209.186 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="none" height="64.412" style="stroke:#000000;stroke-width:1.5;" width="184" x="511" y="209.186"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="28" x="526" y="224.083">loop
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="91" x="599" y="222.9449">[until InitFrame]
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="568.5" x2="610.5" y1="252.598" y2="252.598"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="610.5" x2="610.5" y1="252.598" y2="265.598"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="569.5" x2="610.5" y1="265.598" y2="265.598"/>
        <polygon fill="#181818" points="579.5,261.598,569.5,265.598,579.5,269.598,575.5,265.598"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="575.5"
              y="246.789">wait for message
        </text>
        <polygon fill="#181818" points="551.5,300.304,561.5,304.304,551.5,308.304,555.5,304.304"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="443.5" x2="557.5" y1="304.304" y2="304.304"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="450.5"
              y="298.495">InitFrame
        </text>
        <path d="M10,319.304 L73,319.304 L73,329.01 L63,339.01 L10,339.01 L10,319.304 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="none" height="89.118" style="stroke:#000000;stroke-width:1.5;" width="635" x="10" y="319.304"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="18" x="25" y="334.201">alt
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="166" x="88" y="333.0629">[other client tried to connect]
        </text>
        <polygon fill="#181818" points="551.5,358.716,561.5,362.716,551.5,366.716,555.5,362.716"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="46.5" x2="557.5" y1="362.716" y2="362.716"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="53.5"
              y="356.907">InitFrame
        </text>
        <path d="M492,375.716 L492,402.716 L635,402.716 L635,385.716 L625,375.716 L492,375.716 " fill="#FEFFDD"
              style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M625,375.716 L625,385.716 L635,385.716 L625,375.716 " fill="#FEFFDD"
              style="stroke:#181818;stroke-width:0.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="498"
              y="394.6131">put Client2 to queue
        </text>
        <polygon fill="#181818" points="454.5,435.1281,444.5,439.1281,454.5,443.1281,450.5,439.1281"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="448.5" x2="562.5" y1="439.1281"
              y2="439.1281"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="460.5"
              y="433.3191">ACK
        </text>
        <path d="M388,454.1281 L461,454.1281 L461,463.8341 L451,473.8341 L388,473.8341 L388,454.1281 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="none" height="83.118" style="stroke:#000000;stroke-width:1.5;" width="228" x="388" y="454.1281"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="28" x="403" y="469.0251">loop
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="118" x="476" y="467.887">[until all frames sent]
        </text>
        <polygon fill="#181818" points="551.5,493.5401,561.5,497.5401,551.5,501.5401,555.5,497.5401"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="443.5" x2="557.5" y1="497.5401" y2="497.5401"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="450.5"
              y="491.7311">FRAME[i]
        </text>
        <polygon fill="#181818" points="454.5,525.2461,444.5,529.2461,454.5,533.2461,450.5,529.2461"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="448.5" x2="562.5" y1="529.2461"
              y2="529.2461"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="460.5"
              y="523.4371">ACK
        </text>
        <polygon fill="#181818" points="295.5,563.9521,285.5,567.9521,295.5,571.9521,291.5,567.9521"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="289.5" x2="437.5" y1="567.9521"
              y2="567.9521"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="301.5"
              y="562.1431">send ended
        </text>
        <polygon fill="#181818" points="421.5,595.6582,431.5,599.6582,421.5,603.6582,425.5,599.6582"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="284.5" x2="427.5" y1="599.6582" y2="599.6582"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="291.5"
              y="593.8492">receive()
        </text>
        <polygon fill="#181818" points="715.5,627.3642,725.5,631.3642,715.5,635.3642,719.5,631.3642"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="573.5" x2="721.5" y1="631.3642" y2="631.3642"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="580.5"
              y="625.5552">SocketMessage
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="737.5" x2="779.5" y1="663.0702" y2="663.0702"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="779.5" x2="779.5" y1="663.0702" y2="676.0702"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="738.5" x2="779.5" y1="676.0702" y2="676.0702"/>
        <polygon fill="#181818" points="748.5,672.0702,738.5,676.0702,748.5,680.0702,744.5,676.0702"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="744.5"
              y="657.2612">convert to AppRequest
        </text>
        <polygon fill="#181818" points="890.5,703.7762,900.5,707.7762,890.5,711.7762,894.5,707.7762"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="737.5" x2="896.5" y1="707.7762" y2="707.7762"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="744.5"
              y="701.9672">APICommand
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="912.5" x2="954.5" y1="739.4822" y2="739.4822"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="954.5" x2="954.5" y1="739.4822" y2="752.4822"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="913.5" x2="954.5" y1="752.4822" y2="752.4822"/>
        <polygon fill="#181818" points="923.5,748.4822,913.5,752.4822,923.5,756.4822,919.5,752.4822"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="919.5"
              y="733.6732">execute
        </text>
        <polygon fill="#181818" points="748.5,780.1882,738.5,784.1882,748.5,788.1882,744.5,784.1882"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="742.5" x2="906.5" y1="784.1882"
              y2="784.1882"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="754.5"
              y="778.3792">APICommandResponse
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="737.5" x2="779.5" y1="815.8943" y2="815.8943"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="779.5" x2="779.5" y1="815.8943" y2="828.8943"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="738.5" x2="779.5" y1="828.8943" y2="828.8943"/>
        <polygon fill="#181818" points="748.5,824.8943,738.5,828.8943,748.5,832.8943,744.5,828.8943"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="744.5"
              y="810.0853">convert to AppResponse
        </text>
        <polygon fill="#181818" points="584.5,856.6003,574.5,860.6003,584.5,864.6003,580.5,860.6003"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="578.5" x2="731.5" y1="860.6003"
              y2="860.6003"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="590.5"
              y="854.7913">send(SocketMessage)
        </text>
        <path d="M388,875.6003 L461,875.6003 L461,885.3063 L451,895.3063 L388,895.3063 L388,875.6003 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="none" height="64.412" style="stroke:#000000;stroke-width:1.5;" width="184" x="388" y="875.6003"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="28" x="403" y="890.4973">loop
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="91" x="476" y="889.3592">[until InitFrame]
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="443.5" x2="485.5" y1="919.0123" y2="919.0123"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="485.5" x2="485.5" y1="919.0123" y2="932.0123"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="444.5" x2="485.5" y1="932.0123" y2="932.0123"/>
        <polygon fill="#181818" points="454.5,928.0123,444.5,932.0123,454.5,936.0123,450.5,932.0123"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="450.5"
              y="913.2033">wait for message
        </text>
        <polygon fill="#181818" points="459.5,966.7183,449.5,970.7183,459.5,974.7183,455.5,970.7183"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="453.5" x2="562.5" y1="970.7183" y2="970.7183"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="465.5"
              y="964.9093">InitFrame
        </text>
        <polygon fill="#181818" points="551.5,998.4243,561.5,1002.4243,551.5,1006.4243,555.5,1002.4243"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="448.5" x2="557.5" y1="1002.4243"
              y2="1002.4243"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="455.5"
              y="996.6153">ACK
        </text>
        <path d="M388,1017.4243 L461,1017.4243 L461,1027.1304 L451,1037.1304 L388,1037.1304 L388,1017.4243 "
              fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="none" height="83.118" style="stroke:#000000;stroke-width:1.5;" width="228" x="388" y="1017.4243"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="28" x="403" y="1032.3214">loop
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="118" x="476" y="1031.1833">[until all frames sent]
        </text>
        <polygon fill="#181818" points="459.5,1056.8364,449.5,1060.8364,459.5,1064.8364,455.5,1060.8364"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="453.5" x2="562.5" y1="1060.8364" y2="1060.8364"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="465.5"
              y="1055.0274">FRAME[i]
        </text>
        <polygon fill="#181818" points="551.5,1088.5424,561.5,1092.5424,551.5,1096.5424,555.5,1092.5424"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="448.5" x2="557.5" y1="1092.5424"
              y2="1092.5424"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="455.5"
              y="1086.7334">ACK
        </text>
        <polygon fill="#181818" points="295.5,1127.2484,285.5,1131.2484,295.5,1135.2484,291.5,1131.2484"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="289.5" x2="437.5" y1="1131.2484"
              y2="1131.2484"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="301.5"
              y="1125.4394">SocketMessage
        </text>
        <polygon fill="#181818" points="120.5,1158.9544,110.5,1162.9544,120.5,1166.9544,116.5,1162.9544"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="114.5" x2="278.5" y1="1162.9544"
              y2="1162.9544"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="126.5"
              y="1157.1454">APICommandResponse
        </text>
        <path d="M502,1175.9544 L502,1220.9544 L624,1220.9544 L624,1185.9544 L614,1175.9544 L502,1175.9544 "
              fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M614,1175.9544 L614,1185.9544 L624,1185.9544 L614,1175.9544 " fill="#FEFFDD"
              style="stroke:#181818;stroke-width:0.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="508"
              y="1194.8514">return to Client2
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="508"
              y="1212.5575">from queue
        </text>
        <path d="M10,1233.3665 L73,1233.3665 L73,1243.0725 L63,1253.0725 L10,1253.0725 L10,1233.3665 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="none" height="119.118" style="stroke:#000000;stroke-width:1.5;" width="619" x="10" y="1233.3665"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="18" x="25" y="1248.2635">alt
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="168" x="88" y="1247.1254">[Start messaging with client 2]
        </text>
        <polygon fill="#181818" points="57.5,1272.7785,47.5,1276.7785,57.5,1280.7785,53.5,1276.7785"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51.5" x2="562.5" y1="1276.7785"
              y2="1276.7785"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="63.5"
              y="1270.9695">ACK
        </text>
        <path d="M507,1319.7785 L507,1346.7785 L619,1346.7785 L619,1329.7785 L609,1319.7785 L507,1319.7785 "
              fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M609,1319.7785 L609,1329.7785 L619,1329.7785 L609,1319.7785 " fill="#FEFFDD"
              style="stroke:#181818;stroke-width:0.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="513"
              y="1338.6755">process client 2
        </text><!--MD5=[a2caabf4c2ff6d018d84daafa916e071]
@startuml

actor Client2 as C2
actor Client1 as U
participant "ClientApp\nController" as CA
participant UDPClient as C
participant UDPServer as S
participant "ServerApp\nController" as SA
participant Executor as E

U -> CA: APICommand
activate CA
CA -> CA: APIRequest

CA -> C: send(SocketMessage)

activate C

activate S
loop until InitFrame
S -> S: wait for message
end loop

C -> S: InitFrame
activate S #BBB

alt other client tried to connect
C2 -> S: InitFrame
note over S : put Client2 to queue
end alt

S - -> C: ACK
loop until all frames sent
C -> S: FRAME[i]
S - -> C: ACK
end loop
C - -> CA: send ended
deactivate C

CA -> C: receive()
activate C


S -> SA: SocketMessage
'deactivate S

activate SA
SA -> SA: convert to AppRequest
SA -> E: APICommand

activate E
E -> E: execute
E - -> SA: APICommandResponse
deactivate E

SA -> SA: convert to AppResponse
SA - -> S: send(SocketMessage)
deactivate SA

'activate S #BBB

loop until InitFrame
C -> C: wait for message
end loop

S -> C: InitFrame
activate C #BBB

C - -> S: ACK
loop until all frames sent
S -> C: FRAME[i]
C - -> S: ACK
end loop
deactivate S

C - -> CA: SocketMessage
deactivate C
deactivate C

CA - -> U: APICommandResponse
deactivate CA

note over S : return to Client2 \nfrom queue

alt Start messaging with client 2
S - -> C2: ACK
activate S #BBB
note over S: process client 2
deactivate S
end alt

deactivate S

@enduml

@startuml

actor Client2 as C2
actor Client1 as U
participant "ClientApp\nController" as CA
participant UDPClient as C
participant UDPServer as S
participant "ServerApp\nController" as SA
participant Executor as E

U -> CA: APICommand
activate CA
CA -> CA: APIRequest

CA -> C: send(SocketMessage)

activate C

activate S
loop until InitFrame
S -> S: wait for message
end loop

C -> S: InitFrame
activate S #BBB

alt other client tried to connect
C2 -> S: InitFrame
note over S : put Client2 to queue
end alt

S - -> C: ACK
loop until all frames sent
C -> S: FRAME[i]
S - -> C: ACK
end loop
C - -> CA: send ended
deactivate C

CA -> C: receive()
activate C


S -> SA: SocketMessage

activate SA
SA -> SA: convert to AppRequest
SA -> E: APICommand

activate E
E -> E: execute
E - -> SA: APICommandResponse
deactivate E

SA -> SA: convert to AppResponse
SA - -> S: send(SocketMessage)
deactivate SA


loop until InitFrame
C -> C: wait for message
end loop

S -> C: InitFrame
activate C #BBB

C - -> S: ACK
loop until all frames sent
S -> C: FRAME[i]
C - -> S: ACK
end loop
deactivate S

C - -> CA: SocketMessage
deactivate C
deactivate C

CA - -> U: APICommandResponse
deactivate CA

note over S : return to Client2 \nfrom queue

alt Start messaging with client 2
S - -> C2: ACK
activate S #BBB
note over S: process client 2
deactivate S
end alt

deactivate S

@enduml

PlantUML version 1.2022.7(Mon Aug 22 20:01:30 MSK 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
-->
    </g>
</svg>